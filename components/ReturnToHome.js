"use client";

import Link from "next/link";
import { useState, useEffect } from "react";

export default function ReturnHome() {
  const [visible, setVisible] = useState(true);
  let lastScrollY = 0;

  useEffect(() => {
    const handleScroll = () => {
      const currentScrollY = window.scrollY;
      setVisible(currentScrollY < lastScrollY || currentScrollY < 100);
      lastScrollY = currentScrollY;
    };

    window.addEventListener("scroll", handleScroll, { passive: true });
    return () => window.removeEventListener("scroll", handleScroll);
  }, []);

  return (
    <Link href="/" className={`return-home ${visible ? "visible" : "hidden"}`}>
      <svg
        width="25"
        height="25"
        viewBox="0 0 25 25"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path d="M24.6363 13.3902C24.5201 13.5073 24.3819 13.6002 24.2297 13.6637C24.0774 13.7271 23.9141 13.7598 23.7491 13.7598C23.5841 13.7598 23.4208 13.7271 23.2685 13.6637C23.1163 13.6002 22.9781 13.5073 22.8619 13.3902L22.4995 13.0278V22.8744C22.4767 23.4589 22.2233 24.0106 21.7948 24.4087C21.3662 24.8068 20.7974 25.0189 20.2128 24.9987H17.5012C17.1698 24.9987 16.852 24.867 16.6177 24.6327C16.3833 24.3983 16.2517 24.0805 16.2517 23.7491V16.3766C16.2517 16.0452 16.12 15.7274 15.8857 15.493C15.6513 15.2587 15.3335 15.1271 15.0021 15.1271H10.0038C9.67241 15.1271 9.35458 15.2587 9.12024 15.493C8.8859 15.7274 8.75424 16.0452 8.75424 16.3766V23.7491C8.75424 24.0805 8.62259 24.3983 8.38825 24.6327C8.15391 24.867 7.83608 24.9987 7.50467 24.9987H4.7931C4.20851 25.0189 3.63969 24.8068 3.21113 24.4087C2.78257 24.0106 2.52917 23.4589 2.50639 22.8744V13.0278L2.14401 13.3902C2.02785 13.5073 1.88964 13.6002 1.73737 13.6637C1.5851 13.7271 1.42177 13.7598 1.25682 13.7598C1.09186 13.7598 0.928533 13.7271 0.776261 13.6637C0.623989 13.6002 0.485785 13.5073 0.369621 13.3902C0.252501 13.274 0.15954 13.1358 0.0961007 12.9835C0.0326616 12.8312 0 12.6679 0 12.503C0 12.338 0.0326616 12.1747 0.0961007 12.0224C0.15954 11.8701 0.252501 11.7319 0.369621 11.6158L11.6158 0.369621C11.7319 0.252501 11.8701 0.15954 12.0224 0.0961007C12.1747 0.0326616 12.338 0 12.503 0C12.6679 0 12.8312 0.0326616 12.9835 0.0961007C13.1358 0.15954 13.274 0.252501 13.3902 0.369621L24.6363 11.6158C24.7534 11.7319 24.8464 11.8701 24.9098 12.0224C24.9733 12.1747 25.0059 12.338 25.0059 12.503C25.0059 12.6679 24.9733 12.8312 24.9098 12.9835C24.8464 13.1358 24.7534 13.274 24.6363 13.3902Z" />
      </svg>
    </Link>
  );
}
